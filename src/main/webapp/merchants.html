<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>{ name }</title>
    <link rel="stylesheet" href="/css/merchants.css">
    <script type="text/javascript">
      function fetchMerchant(id) {
        const url = '/merchants?id=' + id
        fetch(url).then((response) => {
          return response.json();
        }).then((merchant) => {
          const merchantContainer = document.getElementById('merchant-container');
          merchantContainer.innerHTML = '';

          const imgElement = buildImageElement(merchant.image);
          merchantContainer.appendChild(imgElement);
        })
      }

      function buildImageElement(image){
        const imgElement = document.createElement('img');
        imgElement.setAttribute('src', image);
        return imgElement;
      }
    </script>

    <div id="nav-placeholder"></div>
    <!-- insert navigation bar from navigation.html -->
    <script>
      $.get("navigation.html", function(data){
        $("#nav-placeholder").replaceWith(data);
      });
    </script>
  </head>
  <body>

    <h2>{ name }</h2>
    <div class="merchant-container">
      <div class="merchant-photo left">
          <img 
            class="merchant-img"
            src="https://previews.123rf.com/images/onblast/onblast1704/onblast170400051/76988297-traditional-wooden-market-food-stall-full-of-groceries-products-with-flags-crates-and-chalk-board-.jpg"
          />
      </div>
      <div class="merchant-desc right">
        <p>Location: { location }</p>
        <p>Cuisine: { type of cuisine }</p>
        <p>Price range: { price range }</p>
        <p>Payment options: { payment options }</p>
        <p>Crowded: { crowdedness }</p>
      </div>
    </div>

    <div class="menus">
      <div class="menu">
        <h4>{ name }</h4>
        <img
          class="menu-img"
          src="https://images.blogthings.com/whatthanksgivingleftoversareyouquiz/plate-of-food.jpg"
        />
        <p>Price: { price }</p>
        <p>Description: { desc }</p>
      </div>
    </div>
  </body>
</html>
